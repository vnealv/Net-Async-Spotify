package Net::Async::Spotify::API::Generated::Playlists;

use strict;
use warnings;

use mro;
use parent qw(Net::Async::Spotify::API::Base);

use Future::AsyncAwait;

=head1 NAME
 
Net::Async::Spotify::API::Generated::Playlists - Package representing Spotify Playlists API
 
=head1 DESCRIPTION
 
Autogenerated module.
Based on https://developer.spotify.com/documentation/web-api/reference/#reference-index
Check C<crawl-api-doc.pl> for more information.
 
=head1 METHODS

=cut


=head2 add_tracks_to_playlist

add_tracks_to_playlist - Add Items to a Playlist

Add one or more items to a user’s playlist.

with Request details being:

=head3 header

=over 4 

=item Authorization

Type: string | Required: required
A valid access token from the Spotify Accounts service: see the <a href="/documentation/general/guides/authorization-guide/">Web API Authorization Guide</a> for details. The access token must have been issued on behalf of the user.<br />Adding items to the current user’s public playlists requires authorization of the <code class="highlighter-rouge">playlist-modify-public</code> scope; adding items to the current user’s private playlist (including collaborative playlists) requires the <code class="highlighter-rouge">playlist-modify-private</code> scope. See <a href="/documentation/general/guides/authorization-guide/#list-of-scopes">Using Scopes</a>.

=item Content-Type

Type: string | Required: required
<em>Required if URIs are passed in the request body, otherwise ignored.</em> The content type of the request body: <code class="highlighter-rouge">application/json</code>

=back

=head3 json_body_parameter

=over 4 

=item position

Type: integer | Required: optional
The position to insert the items, a zero-based index. For example, to insert the items in the first position: <code class="highlighter-rouge">position=0</code> ; to insert the items in the third position: <code class="highlighter-rouge">position=2</code>. If omitted, the items will be appended to the playlist. Items are added in the order they appear in the uris array. For example: <code class="highlighter-rouge">{&quot;uris&quot;: [&quot;spotify:track:4iV5W9uYEdYUVa79Axb7Rh&quot;,&quot;spotify:track:1301WleyT98MSxVHPZCA6M&quot;], &quot;position&quot;: 3}</code>

=item uris

Type: array[string] | Required: optional
A JSON array of the <a href="/documentation/web-api/#spotify-uris-and-ids">Spotify URIs</a> to add. For example: <code class="highlighter-rouge">{&quot;uris&quot;: [&quot;spotify:track:4iV5W9uYEdYUVa79Axb7Rh&quot;,&quot;spotify:track:1301WleyT98MSxVHPZCA6M&quot;, &quot;spotify:episode:512ojhOuo1ktJprKbVcKyQ&quot;]}</code><br />A maximum of 100 items can be added in one request. <em>Note: if the <code class="highlighter-rouge">uris</code> parameter is present in the query string, any URIs listed here in the body will be ignored.</em>

=back

=head3 path_parameter

=over 4 

=item playlist_id

Type: string | Required: required
The <a href="/documentation/web-api/#spotify-uris-and-ids">Spotify ID</a>
for the playlist.

=back

=head3 query_parameter

=over 4 

=item position

Type: integer | Required: optional
The position to insert the items, a zero-based index. For example, to insert the items in the first position: <code class="highlighter-rouge">position=0</code>; to insert the items in the third position: <code class="highlighter-rouge">position=2</code> . If omitted, the items will be appended to the playlist. Items are added in the order they are listed in the query string or request body.

=item uris

Type: string | Required: optional
A comma-separated list of <a href="/documentation/web-api/#spotify-uris-and-ids">Spotify URIs</a> to add, can be track or episode URIs. For example:<br /><code class="highlighter-rouge">uris=spotify:track:4iV5W9uYEdYUVa79Axb7Rh, spotify:track:1301WleyT98MSxVHPZCA6M, spotify:episode:512ojhOuo1ktJprKbVcKyQ</code><br />A maximum of 100 items can be added in one request. <em>Note: it is likely that passing a large number of item URIs as a query parameter will exceed the maximum length of the request URI. When adding a large number of items, it is recommended to pass them in the request body, see below.</em>

=back

and Response Objects being:

- error object


On success, the HTTP status code in the response header is <code class="highlighter-rouge">201</code> Created. The response body contains a <code class="highlighter-rouge">snapshot_id</code> in JSON format. The <code class="highlighter-rouge">snapshot_id</code> can be used to identify your playlist version in future requests. On error, the header status code is an <a href="/documentation/web-api/#response-status-codes">error code</a> and the response body contains an <a href="/documentation/web-api/#response-schema">error object</a>. Trying to add an item when you do not have the user’s authorization, or when there are more than 10.000 items in the playlist, returns error <code class="highlighter-rouge">403</code> Forbidden.<a class="btn btn-sm btn-primary" href="/console/post-playlist-tracks/" target="_blank">Try in our Web Console</a>

=cut

async sub add_tracks_to_playlist {
    my ($self, %args) = @_;

    my $request->{method} = 'POST';
    $request->{uri}    = 'https://api.spotify.com/v1/playlists/{playlist_id}/tracks';
    $request->{param}  = {
        header => {
            'Authorization' => {
                type     => 'string',
                required => 'required',
            },
            'Content-Type' => {
                type     => 'string',
                required => 'required',
            },
        },
        json_body_parameter => {
            'position' => {
                type     => 'integer',
                required => 'optional',
            },
            'uris' => {
                type     => 'array[string]',
                required => 'optional',
            },
        },
        path_parameter => {
            'playlist_id' => {
                type     => 'string',
                required => 'required',
            },
        },
        query_parameter => {
            'position' => {
                type     => 'integer',
                required => 'optional',
            },
            'uris' => {
                type     => 'string',
                required => 'optional',
            },
        },
    };
    my $response_objs = [
        'error object',

    ];

    await $self->call_api($request, $response_objs, %args);
}

=head2 change_playlist_details

change_playlist_details - Change a Playlist&#39;s Details

Change a playlist’s name and public/private state. (The user must, of
course, own the playlist.)

with Request details being:

=head3 header

=over 4 

=item Authorization

Type: string | Required: required
A valid access token from the Spotify Accounts service: see the <a href="/documentation/general/guides/authorization-guide/">Web API Authorization Guide</a> for details. The access token must have been issued on behalf of the user.<br />Changing a public playlist for a user requires authorization of the <code class="highlighter-rouge">playlist-modify-public</code> scope; changing a private playlist requires the <code class="highlighter-rouge">playlist-modify-private</code> scope. See <a href="/documentation/general/guides/authorization-guide/#list-of-scopes">Using Scopes</a>.

=item Content-Type

Type: string | Required: required
The content type of the request body: <code class="highlighter-rouge">application/json</code>

=back

=head3 json_body_parameter

=over 4 

=item collaborative

Type: boolean | Required: optional
If <code class="highlighter-rouge">true</code> , the playlist will become collaborative and other users will be able to modify the playlist in their Spotify client. <em>Note: You can only set <code class="highlighter-rouge">collaborative</code> to <code class="highlighter-rouge">true</code> on non-public playlists.</em>

=item description

Type: string | Required: optional
Value for playlist description as displayed in Spotify Clients and in the Web API.

=item name

Type: string | Required: optional
The new name for the playlist, for example <code class="highlighter-rouge">&quot;My New Playlist Title&quot;</code>

=item public

Type: boolean | Required: optional
If <code class="highlighter-rouge">true</code> the playlist will be public, if <code class="highlighter-rouge">false</code> it will be private.

=back

=head3 path_parameter

=over 4 

=item playlist_id

Type: string | Required: required
The <a href="/documentation/web-api/#spotify-uris-and-ids">Spotify ID</a>
for the playlist.

=back

and Response Objects being:

- error object


On success the HTTP status code in the response header is <code class="highlighter-rouge">200</code> OK.On error, the header status code is an <a href="/documentation/web-api/#response-status-codes">error code</a> and the response body contains an <a href="/documentation/web-api/#response-schema">error object</a>. Trying to change a playlist when you do not have the user’s authorization returns error <code class="highlighter-rouge">403</code> Forbidden.<a class="btn btn-sm btn-primary" href="/console/put-playlist/" target="_blank">Try in our Web Console</a>

=cut

async sub change_playlist_details {
    my ($self, %args) = @_;

    my $request->{method} = 'PUT';
    $request->{uri}    = 'https://api.spotify.com/v1/playlists/{playlist_id}';
    $request->{param}  = {
        header => {
            'Authorization' => {
                type     => 'string',
                required => 'required',
            },
            'Content-Type' => {
                type     => 'string',
                required => 'required',
            },
        },
        json_body_parameter => {
            'collaborative' => {
                type     => 'boolean',
                required => 'optional',
            },
            'description' => {
                type     => 'string',
                required => 'optional',
            },
            'name' => {
                type     => 'string',
                required => 'optional',
            },
            'public' => {
                type     => 'boolean',
                required => 'optional',
            },
        },
        path_parameter => {
            'playlist_id' => {
                type     => 'string',
                required => 'required',
            },
        },
    };
    my $response_objs = [
        'error object',

    ];

    await $self->call_api($request, $response_objs, %args);
}

=head2 create_playlist

create_playlist - Create a Playlist

Create a playlist for a Spotify user. (The playlist will be empty until
you <a href="/documentation/web-api/reference/#endpoint-add-tracks-to-playlist">add tracks</a>.)

with Request details being:

=head3 header

=over 4 

=item Authorization

Type: string | Required: required
A valid access token from the Spotify Accounts service: see the <a href="/documentation/general/guides/authorization-guide/">Web API Authorization Guide</a> for details. The access token must have been issued on behalf of the user. Creating a public playlist for a user requires authorization of the <code class="highlighter-rouge">playlist-modify-public</code> scope; creating a private playlist requires the <code class="highlighter-rouge">playlist-modify-private</code> scope. See <a href="/documentation/general/guides/authorization-guide/#list-of-scopes">Using Scopes</a>.

=item Content-Type

Type: string | Required: optional
The content type of the request body: <code class="highlighter-rouge">application/json</code>

=back

=head3 json_body_parameter

=over 4 

=item collaborative

Type: boolean | Required: optional
Defaults to <code class="highlighter-rouge">false</code> . If <code class="highlighter-rouge">true</code> the playlist will be collaborative. Note that to create a collaborative playlist you must also set <code class="highlighter-rouge">public</code> to <code class="highlighter-rouge">false</code> . To create collaborative playlists you must have granted <code class="highlighter-rouge">playlist-modify-private</code> and <code class="highlighter-rouge">playlist-modify-public</code> <a href="/documentation/general/guides/authorization-guide/#list-of-scopes">scopes</a> .

=item description

Type: string | Required: optional
value for playlist description as displayed in Spotify Clients and in the Web API.

=item name

Type: string | Required: required
The name for the new playlist, for example <code class="highlighter-rouge">&quot;Your Coolest Playlist&quot;</code> . This name does not need to be unique; a user may have several playlists with the same name.

=item public

Type: boolean | Required: optional
Defaults to <code class="highlighter-rouge">true</code> . If <code class="highlighter-rouge">true</code> the playlist will be public, if <code class="highlighter-rouge">false</code> it will be private. To be able to create private playlists, the user must have granted the <code class="highlighter-rouge">playlist-modify-private</code> <a href="/documentation/general/guides/authorization-guide/#list-of-scopes">scope</a>

=back

=head3 path_parameter

=over 4 

=item user_id

Type: string | Required: required
The user’s <a href="/documentation/web-api/#spotify-uris-and-ids">Spotify user ID</a>.

=back

and Response Objects being:

- playlist object
- error object


On success, the response body contains the created <a href="/documentation/web-api/reference/#object-playlistobject">playlist object</a>
in JSON format and the HTTP status code in the response header is <code class="highlighter-rouge">200</code> OK or
<code class="highlighter-rouge">201</code> Created. There is also a <code class="highlighter-rouge">Location</code> response header giving the Web API
endpoint for the new playlist.On error, the header status code is an <a href="/documentation/web-api/#response-status-codes">error code</a> and the response body contains an <a href="/documentation/web-api/#response-schema">error object</a>. Trying to create a playlist when you do not have the user’s authorization returns error <code class="highlighter-rouge">403</code> Forbidden.<a class="btn btn-sm btn-primary" href="/console/post-playlists/" target="_blank">Try in our Web Console</a>

=cut

async sub create_playlist {
    my ($self, %args) = @_;

    my $request->{method} = 'POST';
    $request->{uri}    = 'https://api.spotify.com/v1/users/{user_id}/playlists';
    $request->{param}  = {
        header => {
            'Authorization' => {
                type     => 'string',
                required => 'required',
            },
            'Content-Type' => {
                type     => 'string',
                required => 'optional',
            },
        },
        json_body_parameter => {
            'collaborative' => {
                type     => 'boolean',
                required => 'optional',
            },
            'description' => {
                type     => 'string',
                required => 'optional',
            },
            'name' => {
                type     => 'string',
                required => 'required',
            },
            'public' => {
                type     => 'boolean',
                required => 'optional',
            },
        },
        path_parameter => {
            'user_id' => {
                type     => 'string',
                required => 'required',
            },
        },
    };
    my $response_objs = [
        'playlist object',
        'error object',

    ];

    await $self->call_api($request, $response_objs, %args);
}

=head2 get_a_list_of_current_users_playlists

get_a_list_of_current_users_playlists - Get a List of Current User&#39;s Playlists

Get a list of the playlists owned or followed by the current Spotify
user.

with Request details being:

=head3 header

=over 4 

=item Authorization

Type: string | Required: required
A valid access token from the Spotify Accounts service: see the <a href="/documentation/general/guides/authorization-guide/">Web API Authorization Guide</a> for details.<br />Private playlists are only retrievable <em>for the current user</em> and requires the <code class="highlighter-rouge">playlist-read-private</code> <a href="/documentation/general/guides/authorization-guide/#list-of-scopes">scope</a> to have been authorized by the user. Note that this scope alone will not return collaborative playlists, even though they are always private.<br />Collaborative playlists are only retrievable <em>for the current user</em> and requires the <code class="highlighter-rouge">playlist-read-collaborative</code> <a href="/documentation/general/guides/authorization-guide/#list-of-scopes">scope</a> to have been authorized by the user.

=back

=head3 query_parameter

=over 4 

=item limit

Type: integer | Required: optional
‘The maximum number of playlists to return. Default:
20. Minimum: 1. Maximum: 50.’

=item offset

Type: integer | Required: optional
‘The index of the first playlist to return. Default:
0 (the first object). Maximum offset: 100.000. Use with <code class="highlighter-rouge">limit</code> to get the
next set of playlists.’

=back

and Response Objects being:

- playlist object


On success, the HTTP status code in the response header is <code class="highlighter-rouge">200</code> OK and the response body contains an array of simplified <a href="/documentation/web-api/reference/#object-simplifiedplaylistobject">playlist objects</a> (wrapped in a <a href="/documentation/web-api/reference/#object-pagingobject">paging object</a>) in JSON format. On error, the header status code is an <a href="/documentation/web-api/#response-status-codes">error code</a> and the response body contains an <a href="/documentation/web-api/#response-schema">error object</a>. Please note that the access token has to be tied to a user.<a class="btn btn-sm btn-primary" href="/console/get-current-user-playlists/" target="_blank">Try in our Web Console</a>

=cut

async sub get_a_list_of_current_users_playlists {
    my ($self, %args) = @_;

    my $request->{method} = 'GET';
    $request->{uri}    = 'https://api.spotify.com/v1/me/playlists';
    $request->{param}  = {
        header => {
            'Authorization' => {
                type     => 'string',
                required => 'required',
            },
        },
        query_parameter => {
            'limit' => {
                type     => 'integer',
                required => 'optional',
            },
            'offset' => {
                type     => 'integer',
                required => 'optional',
            },
        },
    };
    my $response_objs = [
        'playlist object',

    ];

    await $self->call_api($request, $response_objs, %args);
}

=head2 get_list_users_playlists

get_list_users_playlists - Get a List of a User&#39;s Playlists

Get a list of the playlists owned or followed by a Spotify user.

with Request details being:

=head3 header

=over 4 

=item Authorization

Type: string | Required: required
A valid access token from the Spotify Accounts service: see the <a href="/documentation/general/guides/authorization-guide/">Web API Authorization Guide</a> for details.<br />Private playlists are only retrievable <em>for the current user</em> and requires the <code class="highlighter-rouge">playlist-read-private</code> <a href="/documentation/general/guides/authorization-guide/#list-of-scopes">scope</a> to have been authorized by the user. Note that this scope alone will not return collaborative playlists, even though they are always private.<br />Collaborative playlists are only retrievable <em>for the current user</em> and requires the <code class="highlighter-rouge">playlist-read-collaborative</code> <a href="/documentation/general/guides/authorization-guide/#list-of-scopes">scope</a> to have been authorized by the user.

=back

=head3 path_parameter

=over 4 

=item user_id

Type: string | Required: required
The user’s <a href="/documentation/web-api/#spotify-uris-and-ids">Spotify user ID</a>.

=back

=head3 query_parameter

=over 4 

=item limit

Type: integer | Required: optional
The maximum number of playlists to return. Default:
20. Minimum: 1. Maximum: 50.

=item offset

Type: integer | Required: optional
The index of the first playlist to return. Default:
0 (the first object). Maximum offset: 100.000. Use with <code class="highlighter-rouge">limit</code> to get the
next set of playlists.

=back

and Response Objects being:

- playlist object


On success, the HTTP status code in the response header is <code class="highlighter-rouge">200</code> OK and the response body contains an array of simplified <a href="/documentation/web-api/reference/#object-simplifiedplaylistobject">playlist objects</a> (wrapped in a <a href="/documentation/web-api/reference/#object-pagingobject">paging object</a>) in JSON format. On error, the header status code is an <a href="/documentation/web-api/#response-status-codes">error code</a> and the response body contains an <a href="/documentation/web-api/#response-schema">error object</a>.<a class="btn btn-sm btn-primary" href="/console/get-playlists/?user_id=wizzler" target="_blank">Try in our Web Console</a>

=cut

async sub get_list_users_playlists {
    my ($self, %args) = @_;

    my $request->{method} = 'GET';
    $request->{uri}    = 'https://api.spotify.com/v1/users/{user_id}/playlists';
    $request->{param}  = {
        header => {
            'Authorization' => {
                type     => 'string',
                required => 'required',
            },
        },
        path_parameter => {
            'user_id' => {
                type     => 'string',
                required => 'required',
            },
        },
        query_parameter => {
            'limit' => {
                type     => 'integer',
                required => 'optional',
            },
            'offset' => {
                type     => 'integer',
                required => 'optional',
            },
        },
    };
    my $response_objs = [
        'playlist object',

    ];

    await $self->call_api($request, $response_objs, %args);
}

=head2 get_playlist

get_playlist - Get a Playlist

Get a playlist owned by a Spotify user.

with Request details being:

=head3 header

=over 4 

=item Authorization

Type: string | Required: required
A valid access token from the Spotify Accounts service:
see the <a href="/documentation/general/guides/authorization-guide/">Web API Authorization Guide</a>
for details. Both Public and Private playlists belonging to any user are retrievable
on provision of a valid access token.

=back

=head3 path_parameter

=over 4 

=item playlist_id

Type: string | Required: required
The <a href="/documentation/web-api/#spotify-uris-and-ids">Spotify ID</a>
for the playlist.

=back

=head3 query_parameter

=over 4 

=item additional_types

Type: string | Required: optional
A comma-separated list of item types that your client supports besides the default <code class="highlighter-rouge">track</code> type. Valid types are: <code class="highlighter-rouge">track</code> and <code class="highlighter-rouge">episode</code>.
<strong>Note</strong>: This parameter was introduced to allow existing clients to maintain their current behaviour and might be deprecated in the future.
In addition to providing this parameter, make sure that your client properly handles cases of new types in the future by checking against the <code class="highlighter-rouge">type</code> field of each object.

=item fields

Type: string | Required: optional
Filters for the query: a comma-separated list of the
fields to return. If omitted, all fields are returned. For example, to get
just the playlist’’s description and URI: <code class="highlighter-rouge">fields=description,uri</code>. A dot
separator can be used to specify non-reoccurring fields, while parentheses
can be used to specify reoccurring fields within objects. For example, to
get just the added date and user ID of the adder: <code class="highlighter-rouge">fields=tracks.items(added_at,added_by.id)</code>.
Use multiple parentheses to drill down into nested objects, for example: <code class="highlighter-rouge">fields=tracks.items(track(name,href,album(name,href)))</code>.
Fields can be excluded by prefixing them with an exclamation mark, for example:
<code class="highlighter-rouge">fields=tracks.items(track(name,href,album(!name,href)))</code>

=item market

Type: string | Required: optional
An <a href="http://en.wikipedia.org/wiki/ISO_3166-1_alpha-2">ISO 3166-1 alpha-2 country code</a>
or the string <code class="highlighter-rouge">from_token</code>. Provide this parameter if you want to apply <a href="/documentation/general/guides/track-relinking-guide/">Track
Relinking</a>.
For episodes, if a valid user access token is specified in the request header, the country associated with
the user account will take priority over this parameter.<br />
<em>Note: If neither market or user country are provided, the episode is considered unavailable for the client.</em>

=back

and Response Objects being:

- playlist object


On success, the response body contains a <a href="/documentation/web-api/reference/#object-playlistobject">playlist object</a> in JSON format and the HTTP status code in the response header is <code class="highlighter-rouge">200</code> OK. If an episode is unavailable in the given <code class="highlighter-rouge">market</code>, its information will not be included in the response. On error, the header status code is an <a href="/documentation/web-api/#response-status-codes">error code</a> and the response body contains an <a href="/documentation/web-api/#response-schema">error object</a>. Requesting playlists that you do not have the user’s authorization to access returns error <code class="highlighter-rouge">403</code> Forbidden.<a class="btn btn-sm btn-primary" href="/console/get-playlist/?playlist_id=59ZbFPES4DQwEjBpWHzrtC&amp;user_id=spotify" target="_blank">Try in our Web Console</a>

=cut

async sub get_playlist {
    my ($self, %args) = @_;

    my $request->{method} = 'GET';
    $request->{uri}    = 'https://api.spotify.com/v1/playlists/{playlist_id}';
    $request->{param}  = {
        header => {
            'Authorization' => {
                type     => 'string',
                required => 'required',
            },
        },
        path_parameter => {
            'playlist_id' => {
                type     => 'string',
                required => 'required',
            },
        },
        query_parameter => {
            'additional_types' => {
                type     => 'string',
                required => 'optional',
            },
            'fields' => {
                type     => 'string',
                required => 'optional',
            },
            'market' => {
                type     => 'string',
                required => 'optional',
            },
        },
    };
    my $response_objs = [
        'playlist object',

    ];

    await $self->call_api($request, $response_objs, %args);
}

=head2 get_playlist_cover

get_playlist_cover - Get a Playlist Cover Image

Get the current image associated with a specific playlist.

with Request details being:

=head3 header

=over 4 

=item Authorization

Type: string | Required: required
A valid access token from the Spotify Accounts service: see the <a href="/documentation/general/guides/authorization-guide/">Web API Authorization Guide</a> for details. The access token must have been issued on behalf of the user.<br />This access token must be issued on behalf of the user. <br /> Current playlist image for both Public and Private playlists of any user are retrievable on provision of a valid access token.

=back

=head3 path_parameter

=over 4 

=item playlist_id

Type: string | Required: required
The <a href="/documentation/web-api/#spotify-uris-and-ids">Spotify ID</a>
for the playlist.

=back

and Response Objects being:

- image object


On success, the response body contains a list of <a href="/documentation/web-api/reference/#object-imageobject">image objects</a> in JSON format and the HTTP status code in the response header is <code class="highlighter-rouge">200</code> OK<br /> On error, the header status code is an <a href="/documentation/web-api/#response-status-codes">error code</a> and the response body contains an <a href="/documentation/web-api/#response-schema">error object</a>.<a class="btn btn-sm btn-primary" href="/console/get-playlist-images?playlist_id=3cEYpjA9oz9GiPac4AsH4n" target="_blank">Try in our Web Console</a>

=cut

async sub get_playlist_cover {
    my ($self, %args) = @_;

    my $request->{method} = 'GET';
    $request->{uri}    = 'https://api.spotify.com/v1/playlists/{playlist_id}/images';
    $request->{param}  = {
        header => {
            'Authorization' => {
                type     => 'string',
                required => 'required',
            },
        },
        path_parameter => {
            'playlist_id' => {
                type     => 'string',
                required => 'required',
            },
        },
    };
    my $response_objs = [
        'image object',

    ];

    await $self->call_api($request, $response_objs, %args);
}

=head2 get_playlists_tracks

get_playlists_tracks - Get a Playlist&#39;s Items

Get full details of the items of a playlist owned by a Spotify user.

with Request details being:

=head3 header

=over 4 

=item Authorization

Type: string | Required: required
A valid access token from the Spotify Accounts service: see the <a href="/documentation/general/guides/authorization-guide/">Web API Authorization Guide</a> for details. Both Public and Private playlists belonging to any user are retrievable on provision of a valid access token.

=back

=head3 path_parameter

=over 4 

=item playlist_id

Type: string | Required: required
The <a href="/documentation/web-api/#spotify-uris-and-ids">Spotify ID</a>
for the playlist.

=back

=head3 query_parameter

=over 4 

=item additional_types

Type: string | Required: optional
A comma-separated list of item types that your client supports besides the default <code class="highlighter-rouge">track</code> type. Valid types are: <code class="highlighter-rouge">track</code> and <code class="highlighter-rouge">episode</code>.
<strong>Note</strong>: This parameter was introduced to allow existing clients to maintain their current behaviour and might be deprecated in the future.
In addition to providing this parameter, make sure that your client properly handles cases of new types in the future by checking against the <code class="highlighter-rouge">type</code> field of each object.

=item fields

Type: string | Required: optional
Filters for the query: a comma-separated list of the
fields to return. If omitted, all fields are returned. For example, to get
just the total number of items and the request limit:<br /><code class="highlighter-rouge">fields=total,limit</code><br />A
dot separator can be used to specify non-reoccurring fields, while parentheses
can be used to specify reoccurring fields within objects. For example, to
get just the added date and user ID of the adder:<br /><code class="highlighter-rouge">fields=items(added_at,added_by.id)</code><br />Use
multiple parentheses to drill down into nested objects, for example:<br /><code class="highlighter-rouge">fields=items(track(name,href,album(name,href)))</code><br />Fields
can be excluded by prefixing them with an exclamation mark, for example:<br /><code class="highlighter-rouge">fields=items.track.album(!external_urls,images)</code>

=item limit

Type: integer | Required: optional
The maximum number of items to return. Default: 100.
Minimum: 1. Maximum: 100.

=item market

Type: string | Required: required
An <a href="http://en.wikipedia.org/wiki/ISO_3166-1_alpha-2">ISO 3166-1 alpha-2 country code</a>
or the string <code class="highlighter-rouge">from_token</code>. Provide this parameter if you want to apply <a href="/documentation/general/guides/track-relinking-guide/">Track
Relinking</a>.
For episodes, if a valid user access token is specified in the request header, the country associated with
the user account will take priority over this parameter.<br />
<em>Note: If neither market or user country are provided, the episode is considered unavailable for the client.</em>

=item offset

Type: integer | Required: optional
The index of the first item to return. Default: 0
(the first object).

=back

and Response Objects being:

- track object


On success, the response body contains an array of <a href="/documentation/web-api/reference/#object-simplifiedtrackobject">track objects</a> and <a href="/documentation/web-api/reference/#object-simplifiedepisodeobject">episode objects</a> (depends on the <code class="highlighter-rouge">additional_types</code> parameter), wrapped in a <a href="/documentation/web-api/reference/#object-pagingobject">paging object</a> in JSON format and the HTTP status code in the response header is <code class="highlighter-rouge">200</code> OK. If an episode is unavailable in the given <code class="highlighter-rouge">market</code>, its information will not be included in the response. On error, the header status code is an <a href="/documentation/web-api/#response-status-codes">error code</a> and the response body contains an <a href="/documentation/web-api/#response-schema">error object</a>. Requesting playlists that you do not have the user’s authorization to access returns error <code class="highlighter-rouge">403</code> Forbidden.<a class="btn btn-sm btn-primary" href="/console/get-playlist-tracks/?playlist_id=21THa8j9TaSGuXYNBU5tsC&amp;user_id=spotify_espa%C3%B1a" target="_blank">Try in our Web Console</a>

=cut

async sub get_playlists_tracks {
    my ($self, %args) = @_;

    my $request->{method} = 'GET';
    $request->{uri}    = 'https://api.spotify.com/v1/playlists/{playlist_id}/tracks';
    $request->{param}  = {
        header => {
            'Authorization' => {
                type     => 'string',
                required => 'required',
            },
        },
        path_parameter => {
            'playlist_id' => {
                type     => 'string',
                required => 'required',
            },
        },
        query_parameter => {
            'additional_types' => {
                type     => 'string',
                required => 'optional',
            },
            'fields' => {
                type     => 'string',
                required => 'optional',
            },
            'limit' => {
                type     => 'integer',
                required => 'optional',
            },
            'market' => {
                type     => 'string',
                required => 'required',
            },
            'offset' => {
                type     => 'integer',
                required => 'optional',
            },
        },
    };
    my $response_objs = [
        'track object',

    ];

    await $self->call_api($request, $response_objs, %args);
}

=head2 remove_tracks_playlist

remove_tracks_playlist - Remove Items from a Playlist

Remove one or more items from a user’s playlist.

with Request details being:

=head3 header

=over 4 

=item Authorization

Type: string | Required: required
A valid access token from the Spotify Accounts service: see the <a href="/documentation/general/guides/authorization-guide/">Web API Authorization Guide</a>
for details. The access token must have been issued on behalf of the user. Removing items from a user’s public playlist requires authorization of the <code class="highlighter-rouge">playlist-modify-public</code> scope; removing items from a private playlist requires the <code class="highlighter-rouge">playlist-modify-private</code> scope. See <a href="/documentation/general/guides/authorization-guide/#list-of-scopes">Using Scopes</a>.

=item Content-Type

Type: string | Required: required
The content type of the request body: <code class="highlighter-rouge">application/json</code>

=back

=head3 json_body_parameter

=over 4 

=item snapshot_id

Type: string | Required: optional
The playlist’s snapshot ID against which you want to make the changes.
The API will validate that the specified items exist and in the specified positions and make the changes,
even if more recent changes have been made to the playlist.

=item tracks

Type: array[string] | Required: required
An array of objects containing <a href="https://developer.spotify.com/spotify-documentation/web-api/#spotify-uris-and-ids">Spotify URIs</a> of the tracks or episodes to remove.
For example: <code class="highlighter-rouge">{ &quot;tracks&quot;: [{ &quot;uri&quot;: &quot;spotify:track:4iV5W9uYEdYUVa79Axb7Rh&quot; },{ &quot;uri&quot;: &quot;spotify:track:1301WleyT98MSxVHPZCA6M&quot; }] }</code>. A maximum of 100 objects can be sent at once.

=back

=head3 path_parameter

=over 4 

=item playlist_id

Type: string | Required: required
The <a href="/documentation/web-api/#spotify-uris-and-ids">Spotify ID</a>

=back

and Response Objects being:

- error object


On success, the response body contains a <code class="highlighter-rouge">snapshot_id</code> in JSON format
and the HTTP status code in the response header is <code class="highlighter-rouge">200</code> OK. The <code class="highlighter-rouge">snapshot_id</code>
can be used to identify your playlist version in future requests.On error, the header status code is an <a href="https://developer.spotify.com/spotify-documentation/web-api/#response-status-codes">error code</a> and the response body contains an <a href="https://developer.spotify.com/spotify-documentation/web-api/#response-schema">error object</a>.
Trying to remove an item when you do not have the user’s authorization returns error <code class="highlighter-rouge">403</code> Forbidden.
Attempting to use several different ways to remove items returns <code class="highlighter-rouge">400</code> Bad Request.
Other client errors returning <code class="highlighter-rouge">400</code> Bad Request include specifying invalid positions.Notes### Frequently Asked Questions:
  <li>
    <p><strong>Is it possible to delete a playlist?</strong>
No, it isn’t. The reason there is no endpoint for this is explained in our Working With Playlists Guide in the section <a href="/documentation/general/guides/working-with-playlists/#following-and-unfollowing-a-playlist">Following and Unfollowing a Playlist</a>.</p>
  </li>
  <li>
    <p><strong>Can I use <code class="highlighter-rouge">X-HTTP-Method-Override</code> or similar to send a DELETE request overriding the HTTP verb?</strong>
Not at the moment, the delete operation needs to be specified through a DELETE request.</p>
  </li>
<a class="btn btn-sm btn-primary" href="/console/delete-playlist-tracks/" target="_blank">Try in our Web Console</a>

=cut

async sub remove_tracks_playlist {
    my ($self, %args) = @_;

    my $request->{method} = 'DELETE';
    $request->{uri}    = 'https://api.spotify.com/v1/playlists/{playlist_id}/tracks';
    $request->{param}  = {
        header => {
            'Authorization' => {
                type     => 'string',
                required => 'required',
            },
            'Content-Type' => {
                type     => 'string',
                required => 'required',
            },
        },
        json_body_parameter => {
            'snapshot_id' => {
                type     => 'string',
                required => 'optional',
            },
            'tracks' => {
                type     => 'array[string]',
                required => 'required',
            },
        },
        path_parameter => {
            'playlist_id' => {
                type     => 'string',
                required => 'required',
            },
        },
    };
    my $response_objs = [
        'error object',

    ];

    await $self->call_api($request, $response_objs, %args);
}

=head2 reorder_or_replace_playlists_tracks

reorder_or_replace_playlists_tracks - Reorder or Replace a Playlist&#39;s Items

Either reorder or replace items in a playlist depending on the request’s parameters.
To reorder items, include <code class="highlighter-rouge">range_start</code>, <code class="highlighter-rouge">insert_before</code>, <code class="highlighter-rouge">range_length</code> and <code class="highlighter-rouge">snapshot_id</code> in the request’s body.
To replace items, include <code class="highlighter-rouge">uris</code> as either a query parameter or in the request’s body.
Replacing items in a playlist will overwrite its existing items. This operation can be used for replacing or clearing items in a playlist.
<br />
<strong>Note</strong>: Replace and reorder are mutually exclusive operations which share the same endpoint, but have different parameters.
These operations can’t be applied together in a single request.

with Request details being:

=head3 header

=over 4 

=item Authorization

Type: string | Required: required
A valid access token from the Spotify Accounts service:
see the <a href="/documentation/general/guides/authorization-guide/">Web API Authorization Guide</a> for details.
The access token must have been issued on behalf of the user.
<br />Reordering or replacing items in the current user’s public playlists requires authorization of the <code class="highlighter-rouge">playlist-modify-public</code> scope;
reordering or replacing items in the current user’s private playlist (including collaborative playlists) requires the <code class="highlighter-rouge">playlist-modify-private</code> scope.
See <a href="/documentation/general/guides/authorization-guide/#list-of-scopes">Using Scopes</a>.

=item Content-Type

Type: string | Required: optional
<em>Required if URIs are passed in the request body, otherwise ignored.</em> The content type of the request body: <code class="highlighter-rouge">application/json</code>

=back

=head3 json_body_parameter

=over 4 

=item insert_before

Type: integer | Required: optional
The position where the items should be inserted.<br />To reorder the items to the end of the playlist, simply set <em>insert_before</em> to the position after the last item.<br />Examples:<br />To reorder the first item to the last position in a playlist with 10 items, set <em>range_start</em> to 0, and <em>insert_before</em> to 10.<br />To reorder the last item in a playlist with 10 items to the start of the playlist, set <em>range_start</em> to 9, and <em>insert_before</em> to 0.

=item range_length

Type: integer | Required: optional
The amount of items to be reordered. Defaults to 1 if not set.<br />The range of items to be reordered begins from the <em>range_start</em> position, and includes the <em>range_length</em> subsequent items.<br />Example:<br />To move the items at index 9-10 to the start of the playlist, <em>range_start</em> is set to 9, and <em>range_length</em> is set to 2.

=item range_start

Type: integer | Required: optional
The position of the first item to be reordered.

=item snapshot_id

Type: string | Required: optional
The playlist’s snapshot ID against which you want to make the changes.

=item uris

Type: array[string] | Required: optional


=back

=head3 path_parameter

=over 4 

=item playlist_id

Type: string | Required: required
The <a href="/documentation/web-api/#spotify-uris-and-ids">Spotify ID</a>
for the playlist.

=back

=head3 query_parameter

=over 4 

=item uris

Type: string | Required: optional
A comma-separated list of <a href="/documentation/web-api/#spotify-uris-and-ids">Spotify URIs</a> to set, can be track or episode URIs. For example: <code class="highlighter-rouge">uris=spotify:track:4iV5W9uYEdYUVa79Axb7Rh,spotify:track:1301WleyT98MSxVHPZCA6M,spotify:episode:512ojhOuo1ktJprKbVcKyQ</code><br />A maximum of 100 items can be set in one request.

=back

and Response Objects being:

- error object


On a successful <strong>reorder</strong> operation, the response body contains a <code class="highlighter-rouge">snapshot_id</code> in JSON format
and the HTTP status code in the response header is <code class="highlighter-rouge">200</code> OK. The <code class="highlighter-rouge">snapshot_id</code>
can be used to identify your playlist version in future requests.On a successful <strong>replace</strong> operation, the HTTP status code in the response header is <code class="highlighter-rouge">201</code>
Created.On error, the header status code is an <a href="/documentation/web-api/#response-status-codes">error code</a>, 
the response body contains an <a href="/documentation/web-api/#response-schema">error object</a>, 
and the existing playlist is unmodified.
Trying to set an item when you do not have the user’s authorization returns error <code class="highlighter-rouge">403</code> Forbidden.<a class="btn btn-sm btn-primary" href="/console/put-playlist-tracks/" target="_blank">Try in our Web Console</a>

=cut

async sub reorder_or_replace_playlists_tracks {
    my ($self, %args) = @_;

    my $request->{method} = 'PUT';
    $request->{uri}    = 'https://api.spotify.com/v1/playlists/{playlist_id}/tracks';
    $request->{param}  = {
        header => {
            'Authorization' => {
                type     => 'string',
                required => 'required',
            },
            'Content-Type' => {
                type     => 'string',
                required => 'optional',
            },
        },
        json_body_parameter => {
            'insert_before' => {
                type     => 'integer',
                required => 'optional',
            },
            'range_length' => {
                type     => 'integer',
                required => 'optional',
            },
            'range_start' => {
                type     => 'integer',
                required => 'optional',
            },
            'snapshot_id' => {
                type     => 'string',
                required => 'optional',
            },
            'uris' => {
                type     => 'array[string]',
                required => 'optional',
            },
        },
        path_parameter => {
            'playlist_id' => {
                type     => 'string',
                required => 'required',
            },
        },
        query_parameter => {
            'uris' => {
                type     => 'string',
                required => 'optional',
            },
        },
    };
    my $response_objs = [
        'error object',

    ];

    await $self->call_api($request, $response_objs, %args);
}

=head2 upload_custom_playlist_cover

upload_custom_playlist_cover - Upload a Custom Playlist Cover Image

Replace the image used to represent a specific playlist.

with Request details being:

=head3 header

=over 4 

=item Authorization

Type: string | Required: required
A valid access token from the Spotify Accounts service: see the <a href="/documentation/general/guides/authorization-guide/">Web API Authorization Guide</a> for details. The access token must have been issued on behalf of the user.<br />This access token must be tied to the user who owns the playlist, and must have the scope <code class="highlighter-rouge">ugc-image-upload</code> granted. In addition, the token must also contain <code class="highlighter-rouge">playlist-modify-public</code> and/or <code class="highlighter-rouge">playlist-modify-private</code>, depending the public status of the playlist you want to update . See <a href="/documentation/general/guides/authorization-guide/#list-of-scopes">Using Scopes</a>.

=item Content-Type

Type: string | Required: required
The content type of the request body: <code class="highlighter-rouge">image/jpeg</code>

=back

=head3 path_parameter

=over 4 

=item playlist_id

Type: string | Required: required
The <a href="/documentation/web-api/#spotify-uris-and-ids">Spotify ID</a>
for the playlist.

=back

and Response Objects being:



If you get status code <code class="highlighter-rouge">429</code>, it means that you have sent too many requests. 
If this happens, have a look in the <code class="highlighter-rouge">Retry-After</code> header, where you will see a number displayed. 
This is the amount of seconds that you need to wait, before you can retry sending your requests.NotesThe request should contain a Base64 encoded JPEG image data, maximum payload size is 256 KB.<strong>Rate Limiting:</strong> If you get status code <code class="highlighter-rouge">429</code>, it means that you have sent too many requests. 
If this happens, have a look in the <code class="highlighter-rouge">Retry-After</code> header, where you will see a number displayed. This is the amount of seconds that you need to wait, before you can retry sending your requests.<a class="btn btn-sm btn-primary" href="/console/put-playlist-images?playlist_id=3cEYpjA9oz9GiPac4AsH4n" target="_blank">Try in our Web Console</a>

=cut

async sub upload_custom_playlist_cover {
    my ($self, %args) = @_;

    my $request->{method} = 'PUT';
    $request->{uri}    = 'https://api.spotify.com/v1/playlists/{playlist_id}/images';
    $request->{param}  = {
        header => {
            'Authorization' => {
                type     => 'string',
                required => 'required',
            },
            'Content-Type' => {
                type     => 'string',
                required => 'required',
            },
        },
        path_parameter => {
            'playlist_id' => {
                type     => 'string',
                required => 'required',
            },
        },
    };
    my $response_objs = [

    ];

    await $self->call_api($request, $response_objs, %args);
}

1;
